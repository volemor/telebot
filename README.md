# telebot
telegramm bots for some idea

-----------
телеграмм боты разной направленности
-----------

# my_os_test.py -
телеграмм бот для мониторинга работы системы - имеет accses list -  тот кто нужно -- делает и видит то, что положено, а именно 
результыты:

---чтения участков лог файлов (update_log), 

---запуска команды ps axf, netstat - antp |grep 22,

выполнения и рузультат сортировки sql запроса. 


-----------------
# divTelebot.py
-----------------

телеграмм бот, получает на обработку отчет в формате PDF (форма отчета ООО БКС - выявляется автоматически) по выплаченным дивидендам по иностранным акциям и в зависимости от уже удержаных в США налогах,
вычисляет необходимый платеж для оплаты остатка ( разница между 13% НДФЛ и 10% удержанными в США). а если удержано в США 30%, 
то данная выплата дивидендов не уитывается в потребности оплаты налогов. 
также производится ранжирование по объему полученных дивидендов по эмитентам.
на выходе получается .xlsx файл и отправляется пользователю.

----
полученный от пользователя файл нигде не сохраняется, просто считывается, обрабатывается на лету, формируется ответ и высылается. 

-----

пока не реализована функция расчета в случае получания доходов в объемах, когда необходимо платить 15% НДФЛ..видать пока из-за отсутсвия пользователей данной категории..))

для работы бота необходима подгрузка курсов USD ЦБ(RC.xlsx) на день выплаты дивидендов - брал с сайта ЦБ, и дополнял (делается автоматически) до дней когда курс не устанавливался .
в настоящее время программа настроена для работы с отчетами за 21 год.. 

PS. для себя использовал для составляния отчета в налоговую... гораздо веселее, чем искать в отчете БКС наименование, дату выплаты, объем выплаты
в след году если формат отчета не поменяется - буду пользоваться

--------
## menu_bot.py
--------
Бот для получения биржевых отчетов, которые стряпает другой проект (пока допиливаю) на основе работы --update-stock-prices-- (https://github.com/volemor/update-stock-prices)
имеет две панели - админ и для подписчиков.

  #админ может:
  
      подключать новых пользователей, 
      
      просматривать, одобрять и отклонять заявки новых пользователей, вносить в черные списки, 
      
      удалять действующих подписчиков, 
      
      назначать админов, 
      
      смотреть логи обновления исторических данных и формирования отчетов.
      
  #пользователь может: 
  
      стать подписчиком после подачи заявки и одобрения админом.
      
  #подписчик может: 
  
      получать отчеты, 
      
      смотреть дату их формирования и актуальности данных,
  
  #данные храняться в файловой sqlite3 базе данных. - три таблицы: 'USER', "PENDING_USER", "BLOKED_USER"
  


